<%- include ("partials/header"); %>

<div class="contained">
    <form class="form" action="/<%= animal._id %>?_method=PUT" method="POST">
       <div class="form-group">
           <label>Pet ID</label>
           <input type="text" name="animal[petId]" value="<%= animal.petId %>">
       </div>


       <div class="form-group">
        <label>Species</label>
            <select name="animal[species]" id="species" onchange="changeMeds()">
                <option>Choose One</option>
                <option value="cat">Cat</option>
                <option value="dog">Dog</option>
                <option value="other">Other</option>
            </select>
        </div>
        <div class="form-group">
            <label>Name</label>
            <input type="text" name="animal[name]" value="<%= animal.name %>">
        </div>
        <div class="form-group">
            <label>Sex</label>
            <input type="text" name="animal[sex]" value="<%= animal.sex %>">
        </div>
        <div class="form-group">
            <label>Breed</label>
            <input type="text" name="animal[breed]" value="<%= animal.breed %>">
        </div>
        <div class="form-group">
            <label>Age</label>
            <input type="text" name="animal[age]" value="<%= animal.age %>">
        </div>
        <div class="form-group">
            <label>Intake Date</label>
            <input type="date" name="animal[intake]" value="<%= animal.intake %> ">
        </div>
        <div class="form-group">
            <label>Altered?</label>
            <select class="form-control" name="animal[altered]">
                <option>Yes</option>
                <option>No</option>
            </select>
        </div>
        <div class="form-group">
            <label>Altered Date</label>
            <input type="date" name="animal[alteredDate]" value="<%= animal.alteredDate %>">
        </div>

        <div id="cat">
            
            <div class="form-group">
                <label>FVRCP 1</label>
                <input type="text" name="animal[fvrcp1]" value="<%= animal.fvrcp1 %>">
            </div>

            <div class="form-group">
                <label>FVRCP 2</label>
                <input type="text" name="animal[fvrcp2]" value="<%= animal.fvrcp2 %>" >
            </div>

            <div class="form-group">
                <label>Feline Leukemia</label>
                <input type="text" name="animal[felineLeukemia]" value="<%= animal.felineLeukemia %>">
            </div>
        </div>

        <div id="dog">
            <p>I shouldn't show up.</p>
        </div>

        <div class="form-group">
            <label>Rabies</label>
            <input type="text" name="animal[rabies]" value="<%= animal.rabies %>">
        </div>


        <div class="form-group">
            <label>Comments</label>
            <textarea class="form-control" rows="3" name="animal[body]" value="<%= animal.body %>"></textarea>
        </div>
        <input class="btn btn-dark" type="submit">
    </form>  
</div>

<%- include ("partials/footer") %>


<script>
    function changeMeds(){
        const cat = document.getElementById('cat');
        const dog = document.getElementById('dog');
        const species = document.getElementById('species');
        if(species.value == 'cat'){
            cat.style.display = 'block';
        } 
        else{
            cat.style.display = 'none';
        }

        if(species.value == 'dog'){
            dog.style.display = 'block';
        }
        else{
            dog.style.display = 'none';
        }
    }

    

</script>